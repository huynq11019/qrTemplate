(self.webpackChunkmb_amc_mstt=self.webpackChunkmb_amc_mstt||[]).push([[179],{8255:b=>{function _(e){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l})}_.keys=()=>[],_.resolve=_,_.id=8255,b.exports=_},9390:(b,_,e)=>{"use strict";e.d(_,{a:()=>v});var l=e(7716),t=e(6256),y=e(5987);let v=(()=>{class C{constructor(g,A){this.authService=g,this.router=A}canActivate(g,A){return this.checkRole((null==g?void 0:g.data.authorities)||[])}checkRole(g){if(!g||0===g.length)return!1;if(this.authService.getCurrentUser()){if(this.authService.hasAnyAuthority(g))return!0;(0,l.X6Q)()&&console.error("User has not any of required authorities: ",g),this.handle403()}return this.router.navigate(["/authentication/login"]),!1}handle403(){return this.router.navigate(["/403"]),!1}}return C.\u0275fac=function(g){return new(g||C)(l.LFG(t.e),l.LFG(y.F0))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},8431:(b,_,e)=>{"use strict";e.d(_,{O3:()=>y,JL:()=>v,_7:()=>m});var l=e(2340),t=e(7631);const y={VI:{label:"common.vi",code:"vi",icon:"assets/img/icon/vietnam.png"},EN:{label:"common.en",code:"en",icon:"assets/img/icon/english.png"}},v=l.N.gateway+t.a.IAM,m="public"},7631:(b,_,e)=>{"use strict";e.d(_,{a:()=>l});const l={IAM:"/iam/api",BUILDING:"/building/api",STORAGE:"/storage/api",SYSTEM:"/system/api",NOTIFICATION:"/notification/api",TICKET:"/ticket/api",SURVEY:"/survey/api"}},7346:(b,_,e)=>{"use strict";e.d(_,{F:()=>l});const l={X_LOADING:"X-LOADING",X_CAPTCHA_HEADER:"X-KAPTCHA-HEADER",X_TRANSACTION_ID:"X-TRANSACTION-ID",AUTHORIZATION:"Authorization",AUTHORIZATION_TYPE:"Bearer ",LOCALE:"language"}},4913:(b,_,e)=>{"use strict";e.d(_,{H:()=>l,_:()=>t});const l={JWT_TOKEN:"jwt-token",LANGUAGE:"language",PROFILE:"profile",REFRESH_TOKEN:"refresh-token"},t={JWT_TOKEN:"jwt-token"}},6940:(b,_,e)=>{"use strict";e.d(_,{X:()=>l});const l={PAGE_DEFAULT:1,SIZE_DEFAULT:10,MAX_SIZE_DEFAULT:1e3,OPTIONS:[10,25,50,100]}},5006:(b,_,e)=>{"use strict";e.d(_,{Q_:()=>l,O5:()=>t});const l={SUCCESS_200:200,ERROR_400:400,ERROR_401:401,ERROR_403:403,ERROR_404:404},t="ACTIVE"},127:(b,_,e)=>{"use strict";e.d(_,{Az:()=>l,M2:()=>t,Ob:()=>y,Wb:()=>g,Jm:()=>A,iy:()=>E,ft:()=>z,FC:()=>s,KW:()=>r,iB:()=>c,$A:()=>S,cZ:()=>u,F4:()=>i});const l="ACTIVE",t="INACTIVE",y="CENTER",g="EMPLOYEE",A="CUSTOMER",E=[{value:l,label:"model.user.service.userStatus.active"},{value:t,label:"model.user.service.userStatus.inactive"}],z=[{value:y,label:"model.user.service.userLevel.center"},{value:"BUILDING_MANAGER",label:"model.user.service.userLevel.building_manager"},{value:"TECHNICAL_LEADER",label:"model.user.service.userLevel.technical_leader"},{value:"SERVICE_LEADER",label:"model.user.service.userLevel.service_leader"}],s=[{value:"MALE",label:"model.user.service.userGender.male"},{value:"FEMALE",label:"model.user.service.userGender.female"}],r={CREATE_USER:"CREATE_USER",UPDATE_USER:"UPDATE_USER",DELETE_USER:"DELETE_USER"},c=[{value:A,label:"model.user.service.accountType.customer"},{value:g,label:"model.user.service.accountType.employee"}],S="user",u="INTERNAL",i="LDAP"},3618:(b,_,e)=>{"use strict";e.d(_,{f:()=>y});var l=e(7716),t=e(6256);let y=(()=>{class v{constructor(p,g,A){this.templateRef=p,this.viewContainerRef=g,this.authService=A,this.authorities=[]}set hasRoles(p){this.authorities="string"==typeof p?[p]:p,this.updateView()}updateView(){const p=this.authService.hasAnyAuthority(this.authorities);this.viewContainerRef.clear(),p&&this.viewContainerRef.createEmbeddedView(this.templateRef)}}return v.\u0275fac=function(p){return new(p||v)(l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(t.e))},v.\u0275dir=l.lG2({type:v,selectors:[["","hasRoles",""]],inputs:{hasRoles:"hasRoles"}}),v})()},6256:(b,_,e)=>{"use strict";e.d(_,{e:()=>S});var l=e(8248),t=e(205),y=e(8002),v=e(8307),C=e(8431),p=e(4913),g=e(127),A=e(3695),E=e(7716),z=e(1841),m=e(3948),s=e(9790),r=e(5987),c=e(2595);let S=(()=>{class L{constructor(u,i,h,T,M,D){this.http=u,this.$localStorage=i,this.$sessionStorage=h,this.translateService=T,this.router=M,this.toast=D}myProfile(){return this.http.get(`${C.JL}/me/profile`,{observe:"response"})}myAuthorities(u){return this.http.get(`${C.JL}/me/authorities`,{observe:"response"})}storeProfile(u,i=!0){this.myProfile().subscribe(h=>{var T;const M=null===(T=null==h?void 0:h.body)||void 0===T?void 0:T.data;this.currentUser=M,M.accountType===g.Jm?(this.clear(),this.toast.info("model.login.error.permissionNotAccess")):(i&&this.toast.success(this.translateService.instant("model.login.success.authenticate")),this.$localStorage.store(p.H.PROFILE,M),this.myAuthorities(M.id||"").subscribe(D=>{var Z;M.userPrimary=null===(Z=D.body)||void 0===Z?void 0:Z.data,this.currentUser=M,this.$localStorage.store(p.H.PROFILE,M),u&&this.router.navigate([`${u}`])}))})}login(u,i,h=!1){return this.http.post(`${C.JL}/authenticate`,{username:u,password:i,rememberMe:h},{headers:A.Z.headers(!0)}).pipe((0,y.U)(this.authenticateSuccess.bind(this,h)))}logout(){const u=`${C.JL}/logout`;let i={};const h=this.$localStorage.retrieve(p.H.REFRESH_TOKEN);return h&&(i={refreshToken:h}),this.http.post(u,i)}authenticateSuccess(u,i){var h,T;const M=null===(h=null==i?void 0:i.data)||void 0===h?void 0:h.accessToken,D=null===(T=null==i?void 0:i.data)||void 0===T?void 0:T.refreshToken,Z=null==i?void 0:i.success,j=(0,l.Z)(M);if(this.tokenPrivateKey=null==j?void 0:j.user_id,Z){if(D){const G=A.Z.encryptMessage(D,this.getTokenPrivateKey());this.$localStorage.store(p.H.REFRESH_TOKEN,G)}if(M)return this.storeAuthenticationToken(M,u),M}else this.toast.error(this.translateService.instant("model.login.error.unauthorized")),this.router.navigate(["/authentication/login"])}storeAuthenticationToken(u,i){const h=A.Z.encryptMessage(u,this.getTokenPrivateKey());i?this.$localStorage.store(p.H.JWT_TOKEN,h):this.$sessionStorage.store(p._.JWT_TOKEN,h)}clear(){this.$localStorage.clear(p.H.PROFILE),this.$localStorage.clear(p.H.JWT_TOKEN),this.$sessionStorage.clear(p._.JWT_TOKEN),this.$localStorage.clear(p.H.REFRESH_TOKEN)}getCurrentUser(){return this.$localStorage.retrieve(p.H.PROFILE)||null}hasAnyAuthority(u){var i,h,T,M;if(this.currentUser=this.getCurrentUser(),null===(h=null===(i=this.currentUser)||void 0===i?void 0:i.userPrimary)||void 0===h?void 0:h.isRoot)return!0;let D=[];if(this.currentUser&&(D=null===(M=null===(T=this.currentUser)||void 0===T?void 0:T.userPrimary)||void 0===M?void 0:M.grantedPermissions,D))for(let Z=0;Z<(null==D?void 0:D.length);Z++)if(D.includes(u[Z]))return!0;return!1}hasPermissionAccess(u,i){var h,T,M;!!i&&(null==i?void 0:i.length)>0&&(this.currentUser=this.getCurrentUser(),!i.includes(null===(T=null===(h=this.currentUser)||void 0===h?void 0:h.userPrimary)||void 0===T?void 0:T.userLevel)&&!(null===(M=this.currentUser)||void 0===M?void 0:M.isRoot)&&window.history.back()),this.hasAnyAuthority(u)||window.history.back()}hasUserLevelAccess(u){var i,h,T;this.currentUser=this.getCurrentUser();const M=null===(h=null===(i=this.getCurrentUser())||void 0===i?void 0:i.userPrimary)||void 0===h?void 0:h.userLevel;return!(!u.includes(M)&&!(null===(T=this.currentUser)||void 0===T?void 0:T.isRoot))}getToken(){const u=this.$localStorage.retrieve(p.H.JWT_TOKEN)||this.$sessionStorage.retrieve(p._.JWT_TOKEN);return A.Z.decryptMessage(u,this.getTokenPrivateKey())}refreshToken(u){return this.http.post(`${C.JL}/refresh-token`,{refreshToken:u},{headers:{Authorization:`Bearer ${u}`}}).pipe((0,v.b)(i=>{var h,T;const M=A.Z.encryptMessage(null===(h=null==i?void 0:i.data)||void 0===h?void 0:h.refreshToken,this.getTokenPrivateKey());this.$localStorage.store(p.H.REFRESH_TOKEN,M),this.storeAuthenticationToken(null===(T=null==i?void 0:i.data)||void 0===T?void 0:T.accessToken,!0)},i=>(0,t._)(i)))}resetPassword(u,i,h,T){return this.http.post(`${C.JL}/user/${u}/change-password`,{newPassword:i,oldPassword:h,refreshToken:T})}getTokenPrivateKey(){let u="";if(this.tokenPrivateKey)u=this.tokenPrivateKey;else{console.error("Token private key is not defined");const i=this.getCurrentUser();i?(u=i.id,this.tokenPrivateKey=u):(console.error("User is not defined"),this.clear())}return u}}return L.\u0275fac=function(u){return new(u||L)(E.LFG(z.eN),E.LFG(m.n2),E.LFG(m.uR),E.LFG(s.sK),E.LFG(r.F0),E.LFG(c.k))},L.\u0275prov=E.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},8714:(b,_,e)=>{"use strict";e.d(_,{O:()=>p});var l=e(7574),t=e(8819),y=e(5435),v=e(8002),C=e(7716);let p=(()=>{class g{constructor(){this.observable=l.y.create(E=>{this.observer=E}).pipe((0,t.B)())}broadcast(E){this.observer&&this.observer.next(E)}subscribe(E,z){return this.observable.pipe((0,y.h)(m=>"string"==typeof m?m===E:m.name===E),(0,v.U)(m=>{if("string"!=typeof m)return m})).subscribe(z)}destroy(E){E.unsubscribe()}}return g.\u0275fac=function(E){return new(E||g)},g.\u0275prov=C.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},2835:(b,_,e)=>{"use strict";e.d(_,{b:()=>y});var l=e(6215),t=e(7716);let y=(()=>{class v{constructor(){this.isLoading=new l.X(!1)}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return v.\u0275fac=function(p){return new(p||v)},v.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},2595:(b,_,e)=>{"use strict";e.d(_,{k:()=>v});var l=e(7716),t=e(3080),y=e(9790);let v=(()=>{class C{constructor(g,A){this.notification=g,this.translate=A}success(g,A,E){const z=this.notification.success(this.title("success"),this.content(g,A),E);this.observableOnClick(z)}error(g,A,E){const z=this.notification.error(this.title("error"),this.content(g,A),E);this.observableOnClick(z)}info(g,A,E){const z=this.notification.info(this.title("info"),this.content(g,A),E);this.observableOnClick(z)}warning(g,A,E){const z=this.notification.warning(this.title("warning"),this.content(g,A),E);this.observableOnClick(z)}blank(g,A,E){const z=this.notification.blank(this.title("blank"),this.content(g,A),E);this.observableOnClick(z)}title(g){return this.translate.instant(["common",g].join("."))}content(g,A){return this.translate.instant(g,A)}observableOnClick(g){g.onClick.subscribe(()=>{this.notification.remove(g.messageId)})}}return C.\u0275fac=function(g){return new(g||C)(l.LFG(t.zb),l.LFG(y.sK))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},2753:(b,_,e)=>{"use strict";e.d(_,{m:()=>et});var l=e(8583),t=e(3679),y=e(5987),v=e(7296),C=e(9517),p=e(9790),g=e(3754),A=e(6442),E=e(5392),z=e(4453),m=e(7018),s=e(8513),r=e(2079),c=e(4812),S=e(7966),L=e(3385),x=e(4401),u=e(2482),i=e(8753),h=e(464),T=e(881),M=e(7674),D=e(8058),Z=e(6214),j=e(3080),G=e(5428),K=e(2496),W=e(1398),I=e(269),$=e(8453),V=e(6795),k=e(4828),Y=e(2930),Q=e(66),F=e(7716);let X=(()=>{class U{}return U.\u0275fac=function(J){return new(J||U)},U.\u0275mod=F.oAB({type:U}),U.\u0275inj=F.cJS({imports:[[l.ez],l.ez]}),U})(),q=(()=>{class U{}return U.\u0275fac=function(J){return new(J||U)},U.\u0275mod=F.oAB({type:U}),U.\u0275inj=F.cJS({imports:[[l.ez],l.ez]}),U})(),et=(()=>{class U{}return U.\u0275fac=function(J){return new(J||U)},U.\u0275mod=F.oAB({type:U}),U.\u0275inj=F.cJS({providers:[],imports:[[l.ez,t.u5,v.d,t.UX,y.Bz,C.IJ,p.aw,j.L8,i.U5,W.aF,V.HQ,L.S,$.m,h.PV,Y.cg,k.we,G.uK,m.vh,z.sL,A.mS,M.o7,x.b1,Z.Qp,r.Wr,K.$6,Q.cS,D.gR,S.Hb,I.LV,c.cD,u.Xo,E.lt,T.Gb,g.j,s.vB,X,q],l.ez,t.u5,v.d,t.UX,y.Bz,C.IJ,p.aw,j.L8,i.U5,W.aF,V.HQ,L.S,$.m,h.PV,Y.cg,k.we,G.uK,m.vh,z.sL,A.mS,M.o7,x.b1,Z.Qp,r.Wr,K.$6,Q.cS,D.gR,S.Hb,I.LV,c.cD,u.Xo,E.lt,T.Gb,g.j,s.vB,X,q]}),U})()},3695:(b,_,e)=>{"use strict";e.d(_,{Z:()=>E});var l=e(1841),t=e(2527),v=e(9457),p=e(6738),A=e(6940);let E=(()=>{class z{static markFormGroupTouched(s){Object.values(s.controls).forEach(r=>{r.markAsTouched(),r.controls&&this.markFormGroupTouched(r)})}static getIndex(s,r=A.X.PAGE_DEFAULT,c=A.X.SIZE_DEFAULT){return(r-1)*c+s+1}static trim(s){return Object.keys(s).reduce((r,c)=>(r[c]="string"==typeof s[c]?s[c].trim():s[c],r),{})}static modalBase(s,r,c="50%",S=!0,L=!1,x=!0){return{nzWidth:c,nzCentered:S,nzMaskClosable:L,nzClosable:x,nzContent:s,nzComponentParams:Object.assign({},r)}}static modalConfirm(s,r,c,S={},L=(()=>({success:!0})),x=(()=>({success:!1})),u="action.confirm",i="action.cancel"){return{nzTitle:s.instant(r),nzContent:s.instant(c,S),nzOkText:s.instant(u),nzCancelText:s.instant(i),nzOnCancel:()=>x(),nzOnOk:()=>L()}}static compareArrayIsEqual(s,r){return s.length===r.length&&s.sort().every((c,S)=>c===r.sort()[S])}static headers(s){return new l.WM({isLoading:s?"true":"false"})}static formatArrayToDate(s){return new Date(s[0],s[1],s[2])}static onQueryParam(s){const{pageIndex:r,pageSize:c,sort:S}=s,x=S.find(T=>null!==T.value),u=x&&x.key||null,i=x&&x.value||null;let h="";return u&&i&&(h=`${u}.${"ascend"===i?"asc":"desc"}`),{pageIndex:r,pageSize:c,sortBy:h}}static getLimitLength(s,r=20,c=10){return s&&-1===s.indexOf(" ")?s.length<=r?s:s.slice(0,c)+"...":s?s.length<=r?s:s.slice(0,r)+"...":""}static download(s,r){const c=new Blob([s]);(0,v.saveAs)(c,r)}static downloadFileType(s,r,c){"excel"===r&&(r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");const S=new Blob([s],{type:r});v.saveAs(S,c)}static splitDate(s){const r=s.split("/");return r[1]+"/"+r[0]+"/"+r[2]}static newDate(s){const r=s.trim();if(r.includes("/"))return new Date(this.splitDate(r));if(8===r.length||7===r.length){if(8===r.length){const c=r.slice(0,2),S=r.slice(2,4),L=r.slice(4,8);return new Date(S+"/"+c+"/"+L)}if(7===r.length){const c=r.slice(0,2),S=r.slice(0,1),L=r.slice(2,3),x=r.slice(1,3),u=r.slice(3,7),i=new Date(L+"/"+c+"/"+u),h=new Date(x+"/"+S+"/"+u);return"Invalid Date"!==i.toString()?i:"Invalid Date"!==h.toString()?h:new Date(r)}return new Date(r)}return new Date(r)}static numberFormatter(s){return s.toString().replace(/\D/g,"")}static formatToNumber(s){return Number(z.numberFormatter(s))}static moneyFormat(s){return s.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".")}static getStartOfDay(s){const r=new Date(s);return this.setStartTime(r.getTime())}static getEndOfDay(s){const r=new Date(s);return this.setEndTime(r.getTime())}static setStartTime(s){return p(s).startOf("day").valueOf()}static setEndTime(s){return p(s).endOf("day").valueOf()}static setCurrentTime(s){return p(s).valueOf()}static stripHTML(s){return s.replace(/<\/?[^>]+(>|$)/g,"")}static randomString(s){let r="";const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S=c.length;for(let L=0;L<s;L++)r+=c.charAt(Math.floor(Math.random()*S));return r}static removeAccents(s){return s.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static sleepDebounce(s){return new Promise(r=>setTimeout(r,s))}static debounce(s,r,c=!1){let S;return function(){const L=this,x=arguments,u=()=>{S=null,c||s.apply(L,x)},i=c&&!S;clearTimeout(S),S=setTimeout(u,r),i&&s.apply(L,x)}}static convertObjectToFormDataWithFile(s){const r=new FormData;return Object.keys(s).forEach(c=>{Array.isArray(s[c])?s[c].forEach(S=>{r.append(c,S)}):(s[c]instanceof File||s[c]instanceof Blob)&&r.append(c,s[c])}),r}static getDevice(){const s=window.navigator.userAgent;return s.includes("iPhone")||s.includes("iPad")||s.includes("iPod")?"Ios":s.includes("Android")?"Android":"PC"}static decryptMessage(s,r){let c="";try{c=t.AES.decrypt(s,r).toString(t.enc.Utf8)}catch(S){console.log(S)}return c}static encryptMessage(s,r){return t.AES.encrypt(s,r).toString()}}return z.optimalObjectParams=m=>{if(m){if(m instanceof FormData){const s=new FormData;for(const[r,c]of m)null!=c&&""!==c&&("string"==typeof c&&c.trim(),s.append(r,c));return s}Array.isArray(m)?m.map(s=>z.optimalObjectParams(s)):Object.keys(m).forEach(s=>{null==m[s]||""===m[s]?delete m[s]:"object"==typeof m[s]?z.optimalObjectParams(m[s]):"string"==typeof m[s]&&m[s].trim()})}return m},z.formatParams=m=>(m&&Object.keys(m).forEach(s=>(null==m[s]||""===m[s])&&delete m[s]),m),z.toFormData=m=>{const s=new FormData,r=z.formatParams(m);return r&&Object.keys(r).forEach(c=>s.append(c,r[c])),s},z})()},611:(b,_,e)=>{"use strict";e.d(_,{x:()=>l});const l={base:{home:"",dashboard:"dashboard",freeRoute:"**"},authentication:{root:"authentication",login:"login"},ticket:{root:"ticket",create:"create",createByComplaint:"create-by-complaint/:id",detail:":ticketId/detail"},survey:{root:"survey",list:"list",result:"result",detailResult:"result/:surveyId/detail/:type",create:"create",update:":id/update",detail:":id/detail"},building:{root:"building",list:"list",detail:":id/detail",create:"create",unit:"unit",unitCreate:"unit/create",unitUpdate:"unit/:unitId/update",unitDetail:"unit/:unitId/detail"},partnerContract:{root:"partner-contract"},customer:{root:"customer",create:"create",update:":customerId/update"},notification:{root:"notification",create:"create/:type",update:":notificationId/update/:type",detail:":notificationId/detail/:type"},setting:{root:"setting",user:"user",userCreate:"user/create",userUpdate:"user/:id/update",role:"role",actionLog:"action-log",actionLogDetail:"action-log/:id/detail"},privacyPolicy:{root:"privacy-policy"},report:{root:"report"},feedback:{public:"feedback-public"},home:{root:"home"},complaint:{root:"complaint",list:"list",detail:":id/complaint-detail",qrCreate:"create-qr",qrUpdate:":id/qr-update",qrList:"qr-list",report:"report"},error:{notFound:"404",permissionDenied:"403",systemError:"500"}}},2340:(b,_,e)=>{"use strict";e.d(_,{N:()=>l});const l={production:!0,test:!0,domain:"http://192.168.2.100:8021",gateway:"http://192.168.2.100:8020",qrCode:"http://192.168.2.100:8021/#/home",androidDownloadUrl:"https://play.google.com/store/apps/details?id=com.mbamc.buildingcares",iosDownloadUrl:"https://apps.apple.com/us/app/building-cares/id1602344331",firebaseConfig:{apiKey:"AIzaSyBbGNe_sYx8N09SWbcOfCmLNVfkWvQ4Jbg",authDomain:"me-chat-a2693.firebaseapp.com",databaseURL:"https://me-chat-a2693-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"me-chat-a2693",storageBucket:"me-chat-a2693.appspot.com",messagingSenderId:"352618140115",appId:"1:352618140115:web:5dfc0584bc70ff602d1f26",measurementId:"G-GB5E6PTFQN"}}},691:(b,_,e)=>{"use strict";var l=e(9075),t=e(7716),y=e(8583),v=e(1841),C=e(1335),p=e.n(C),g=e(3679),A=e(6237),E=e(6390),z=e(9517),m=e(9790),s=e(2472),r=e(2729),c=e(8753),S=e(9795),L=e(464),x=e(2746),u=e(3730),i=e(1729),h=e(3948),T=e(5987),M=e(2835);let D=(()=>{class o{constructor(n){this.loadingService=n}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(M.b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-auth-layout"]],decls:4,vars:6,consts:[[3,"nzSpinning","nzTip"]],template:function(n,d){1&n&&(t.TgZ(0,"nz-spin",0),t.ALo(1,"async"),t.ALo(2,"translate"),t._UZ(3,"router-outlet"),t.qZA()),2&n&&t.Q6J("nzSpinning",t.lcZ(1,2,null==d.loadingService?null:d.loadingService.isLoading))("nzTip",t.lcZ(2,4,"common.spinningTip"))},directives:[i.W,T.lC],pipes:[y.Ov,m.X$],styles:[""]}),o})();var Z=e(8431),j=e(4913),G=e(5006),K=e(6256),W=e(2595),I=e(611);const $=[{path:`${I.x.base.dashboard}`,title:"sidebar.dashboard",icon:"appstore",root:!0,authorities:[]},{title:"sidebar.survey",icon:"form",root:!1,authorities:["survey:view","survey:report"],submenu:[{path:`${I.x.survey.root}/${I.x.survey.list}`,title:"sidebar.survey-list",authorities:["survey:view"]},{path:`${I.x.survey.root}/${I.x.survey.result}`,title:"sidebar.survey-result",authorities:["survey:report"]}]},{path:"/notification",title:"sidebar.notification",icon:"bell",root:!0,authorities:["notification:view"]},{title:"sidebar.settings",icon:"setting",root:!1,authorities:["user:view","role:view"],submenu:[{path:`${I.x.setting.root}/${I.x.setting.user}`,title:"sidebar.user",authorities:["user:view"]},{path:`${I.x.setting.root}/${I.x.setting.role}`,title:"sidebar.role",authorities:["role:view"]}]}];var V=e(3618),k=e(4514);function Y(o,f){if(1&o&&(t.TgZ(0,"li",6),t.TgZ(1,"a",7),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA()),2&o){const n=t.oxw().$implicit,d=t.oxw(4);t.Q6J("ngClass",d.isCollapsed?"ant-menu-item-custom-selected":""),t.xp6(1),t.Q6J("routerLink",n.path),t.xp6(1),t.Oqu(t.lcZ(3,3,n.title))}}function Q(o,f){if(1&o&&(t.ynx(0),t.YNc(1,Y,4,5,"li",5),t.BQk()),2&o){const n=f.$implicit;t.xp6(1),t.Q6J("hasRoles",n.authorities)}}function F(o,f){if(1&o&&(t.TgZ(0,"li",4),t.ALo(1,"translate"),t.TgZ(2,"ul"),t.YNc(3,Q,2,1,"ng-container",1),t.qZA(),t.qZA()),2&o){const n=t.oxw(2).$implicit,d=t.oxw();t.Q6J("ngClass",d.isCollapsed?"ant-menu-item-custom-selected":"")("nzTitle",t.lcZ(1,4,n.title))("nzIcon",n.icon),t.xp6(3),t.Q6J("ngForOf",n.submenu)}}function X(o,f){if(1&o&&(t.ynx(0),t.YNc(1,F,4,6,"li",3),t.BQk()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("hasRoles",n.authorities)}}function q(o,f){if(1&o&&t._UZ(0,"i",11),2&o){const n=t.oxw(3).$implicit;t.Q6J("nzType",n.icon+"")}}function et(o,f){if(1&o&&(t.TgZ(0,"li",9),t.YNc(1,q,1,1,"i",10),t.TgZ(2,"span"),t.TgZ(3,"a",7),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o){const n=t.oxw(2).$implicit,d=t.oxw();t.Q6J("ngClass",d.isCollapsed?"ant-menu-item-custom-selected":""),t.xp6(1),t.Q6J("ngIf",null==n?null:n.icon),t.xp6(2),t.Q6J("routerLink",n.path),t.xp6(1),t.Oqu(t.lcZ(5,4,n.title))}}function U(o,f){if(1&o&&(t.ynx(0),t.YNc(1,et,6,6,"li",8),t.BQk()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("hasRoles",n.authorities)}}function B(o,f){if(1&o&&(t.ynx(0),t.YNc(1,X,2,1,"ng-container",2),t.YNc(2,U,2,1,"ng-container",2),t.BQk()),2&o){const n=f.$implicit;t.xp6(1),t.Q6J("ngIf",!n.root),t.xp6(1),t.Q6J("ngIf",n.root)}}let J=(()=>{class o{constructor(){this.isCollapsed=!1,this.sidebar=$,this.ROUTER_UTILS=I.x}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-sidebar"]],inputs:{isCollapsed:"isCollapsed"},decls:3,vars:2,consts:[["nz-menu","","nzTheme","light","nzMode","inline",3,"nzInlineCollapsed"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nz-submenu","",3,"ngClass","nzTitle","nzIcon",4,"hasRoles"],["nz-submenu","",3,"ngClass","nzTitle","nzIcon"],["nz-menu-item","","nzMatchRouter","","class","li-padding-left",3,"ngClass",4,"hasRoles"],["nz-menu-item","","nzMatchRouter","",1,"li-padding-left",3,"ngClass"],[3,"routerLink"],["nz-menu-item","","nzMatchRouter","",3,"ngClass",4,"hasRoles"],["nz-menu-item","","nzMatchRouter","",3,"ngClass"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(n,d){1&n&&(t.ynx(0),t.TgZ(1,"ul",0),t.YNc(2,B,3,2,"ng-container",1),t.qZA(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("nzInlineCollapsed",d.isCollapsed),t.xp6(1),t.Q6J("ngForOf",d.sidebar))},directives:[u.wO,y.sg,y.O5,V.f,k.w,u.rY,y.mk,u.r9,T.yS,L.Ls],pipes:[m.X$],styles:["ul[_ngcontent-%COMP%]{padding:0 20px;height:100%;background:#ffffff}span[_ngcontent-%COMP%]{color:#282828}li[_ngcontent-%COMP%] > .anticon[_ngcontent-%COMP%]:hover{color:#1890ff}.ant-menu[_ngcontent-%COMP%]:not(.ant-menu-horizontal)   .ant-menu-item-selected[_ngcontent-%COMP%]{color:#fff;border-radius:6px;background:#0054A5;height:50px}.ant-menu-item-custom-selected[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.ant-menu-submenu-selected[_ngcontent-%COMP%]{color:#0054a5}.ant-menu-sub.ant-menu-inline[_ngcontent-%COMP%]{background:none}.ant-menu-item-selected[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#fff}.ant-menu-item-selected[_ngcontent-%COMP%]{background:#0054A5}.ant-menu-submenu-open[_ngcontent-%COMP%]{color:#282828}.ant-menu-submenu-active[_ngcontent-%COMP%]{color:#282828}.ant-menu-submenu-open[_ngcontent-%COMP%] > .ant-menu-submenu-active[_ngcontent-%COMP%]{color:#0054a5}.ant-menu-inline[_ngcontent-%COMP%]   .ant-menu-item-selected[_ngcontent-%COMP%]:after, .ant-menu-inline[_ngcontent-%COMP%]   .ant-menu-selected[_ngcontent-%COMP%]:after{transform:scaleY(0);opacity:0;transition:transform .15s cubic-bezier(.645,.045,.355,1),opacity .15s cubic-bezier(.645,.045,.355,1)}.li-padding-left[_ngcontent-%COMP%]{padding-left:28px!important}  .ant-menu:not(.ant-menu-horizontal) .ant-menu-item-selected{background:#0054A5;border-radius:4px}.ant-menu-item-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-radius:4px}.ant-menu-item-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}"]}),o})();var Tt=e(4453),_t=e(9374),Ct=e(2496),At=e(3385),nt=e(4401),dt=e(5329);function yt(o,f){1&o&&t._UZ(0,"img",41)}function Ot(o,f){1&o&&t._UZ(0,"img",42)}function Pt(o,f){if(1&o){const n=t.EpF();t.TgZ(0,"div",43),t.TgZ(1,"p",4),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(2);return a.onChangeLanguage(a.VI)}),t._UZ(2,"img",41),t.TgZ(3,"span",44),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA(),t.TgZ(6,"p",4),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(2);return a.onChangeLanguage(a.EN)}),t._UZ(7,"img",42),t.TgZ(8,"span",44),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"common.vi")),t.xp6(5),t.Oqu(t.lcZ(10,4,"common.en")))}function St(o,f){if(1&o){const n=t.EpF();t.TgZ(0,"nz-layout",1),t.TgZ(1,"nz-sider",2),t.NdJ("nzCollapsedChange",function(a){return t.CHM(n),t.oxw().isCollapsed=a}),t.TgZ(2,"div",3),t.TgZ(3,"a",4),t.NdJ("click",function(){return t.CHM(n),t.oxw().navigateDashboard()}),t._UZ(4,"img",5),t.qZA(),t.qZA(),t._UZ(5,"app-sidebar",6),t.qZA(),t.TgZ(6,"nz-layout",7),t.TgZ(7,"nz-header"),t.TgZ(8,"div",8),t.TgZ(9,"div",9),t.TgZ(10,"div",10),t.TgZ(11,"span",11),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return a.isCollapsed=!a.isCollapsed}),t._UZ(12,"i",12),t.qZA(),t.TgZ(13,"span",13),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.TgZ(16,"div",14),t.TgZ(17,"div",15),t.TgZ(18,"button",16),t.NdJ("nzPopoverVisibleChange",function(a){return t.CHM(n),t.oxw().visible=a}),t.YNc(19,yt,1,0,"img",17),t.YNc(20,Ot,1,0,"img",18),t.qZA(),t.YNc(21,Pt,11,6,"ng-template",null,19,t.W1O),t._UZ(23,"nz-divider",20),t.TgZ(24,"button",21),t.TgZ(25,"span",22),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"span",23),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"nz-dropdown-menu",null,24),t.TgZ(32,"div",25),t.TgZ(33,"div",26),t.TgZ(34,"div",27),t._UZ(35,"nz-avatar",28),t.qZA(),t.TgZ(36,"div",29),t._uU(37),t.qZA(),t.qZA(),t.TgZ(38,"div",30),t.TgZ(39,"div",31),t.TgZ(40,"div",32),t._UZ(41,"i",33),t.qZA(),t.TgZ(42,"div",10),t.TgZ(43,"div",23),t._uU(44," H\u1ed3 s\u01a1 c\xe1 nh\xe2n "),t.qZA(),t.TgZ(45,"p"),t._uU(46,"Th\xf4ng tin c\xe1 nh\xe2n"),t.qZA(),t.qZA(),t.TgZ(47,"div",34),t._UZ(48,"i",35),t.qZA(),t.qZA(),t.TgZ(49,"div",31),t.TgZ(50,"div",32),t._UZ(51,"i",33),t.qZA(),t.TgZ(52,"div",36),t._uU(53," \u0110\u1ed5i m\u1eadt kh\u1ea9u "),t.qZA(),t.TgZ(54,"div",34),t._UZ(55,"i",35),t.qZA(),t.qZA(),t.TgZ(56,"div",37),t.TgZ(57,"button",38),t.NdJ("click",function(){return t.CHM(n),t.oxw().logout()}),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"nz-content",7),t.TgZ(61,"div",39),t.TgZ(62,"nz-spin",40),t.ALo(63,"async"),t.ALo(64,"translate"),t._UZ(65,"router-outlet"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const n=t.MAs(22),d=t.MAs(31),a=t.oxw();t.xp6(1),t.Q6J("nzCollapsed",a.isCollapsed)("nzTrigger",null),t.xp6(3),t.Q6J("ngClass",a.isCollapsed?"sidebar-logo-default":"sidebar-logo-resize"),t.xp6(1),t.Q6J("isCollapsed",a.isCollapsed),t.xp6(1),t.Q6J("ngClass",a.isCollapsed?"ant-layout-has-sider-collapsed":""),t.xp6(6),t.Q6J("nzType",a.isCollapsed?"menu-unfold":"menu-fold"),t.xp6(2),t.hij(" ",t.lcZ(15,22,a.title)," "),t.xp6(4),t.Q6J("nzPopoverVisible",a.visible)("nzPopoverContent",n),t.xp6(1),t.Q6J("ngIf",a.currentLanguage===a.VI),t.xp6(1),t.Q6J("ngIf",a.currentLanguage===a.EN),t.xp6(4),t.Q6J("nzDropdownMenu",d)("nzTrigger","click")("nzOverlayClassName","user-dropdown-menu"),t.xp6(2),t.Oqu(t.lcZ(27,24,"common.hello")),t.xp6(3),t.hij(" ",a.getShortName(null==a.currentUser?null:a.currentUser.fullName)," "),t.xp6(6),t.s9C("nzSrc",a.getImg("http://192.168.2.100:8013/api/files/"+(null==a.currentUser?null:a.currentUser.avatarFileId)+"/view")),t.xp6(2),t.hij(" ",a.getShortName(null==a.currentUser?null:a.currentUser.fullName)," "),t.xp6(21),t.hij(" ",t.lcZ(59,26,"model.logout.title")," "),t.xp6(2),t.Q6J("ngClass",a.isDashboard?"nz-content-dashboard":""),t.xp6(2),t.Q6J("nzSpinning",t.lcZ(63,28,null==a.loadingService?null:a.loadingService.isLoading))("nzTip",t.lcZ(64,30,"common.spinningTip"))}}let Mt=(()=>{class o{constructor(n,d,a,O,R){this.loadingService=n,this.authService=d,this.router=a,this.toast=O,this.localStorage=R,this.visible=!1,this.isCollapsed=!1,this.currentLanguage="",this.title="",this.isDashboard=!1,this.LANGUAGES_CONST=Z.O3,this.VI=Z.O3.VI.code,this.EN=Z.O3.EN.code,this.currentLanguage=this.localStorage.retrieve(j.H.LANGUAGE)||Z.O3.VI.code,this.router.events.subscribe(P=>{var N,H,st,rt,at,it,lt,ct;P instanceof T.jw&&((null===(H=null===(N=null==P?void 0:P.snapshot)||void 0===N?void 0:N.data)||void 0===H?void 0:H.title)&&(this.title=(null===(rt=null===(st=null==P?void 0:P.snapshot)||void 0===st?void 0:st.data)||void 0===rt?void 0:rt.title.toString())||"common.title"),(null===(it=null===(at=null==P?void 0:P.snapshot)||void 0===at?void 0:at.url[0])||void 0===it?void 0:it.path)&&(this.isDashboard="dashboard"===(null===(ct=null===(lt=null==P?void 0:P.snapshot)||void 0===lt?void 0:lt.url[0])||void 0===ct?void 0:ct.path)))})}onResize(n){n.target.innerWidth<=1366&&(this.isCollapsed=!0)}ngOnInit(){const n=this.localStorage.retrieve(j.H.PROFILE),d=this.authService.getToken();n?this.currentUser=n:d?this.authService.myProfile().subscribe(a=>{var O,R;this.currentUser=null===(O=null==a?void 0:a.body)||void 0===O?void 0:O.data,this.localStorage.store(j.H.PROFILE,this.currentUser),this.authService.myAuthorities(null===(R=this.currentUser)||void 0===R?void 0:R.id).subscribe(P=>{var N;this.currentUser.userPrimary=null===(N=P.body)||void 0===N?void 0:N.data,this.localStorage.store(j.H.PROFILE,this.currentUser)})}):this.router.navigate(["home"])}getShortName(n){if(!n)return"User Name";const d=n.split(" ");return d.length>5?d[0]+" "+d[d.length-1]:n}logout(){this.authService.logout().subscribe(n=>{n.code===G.Q_.SUCCESS_200&&(this.authService.clear(),this.router.navigate(["/home"]),this.toast.success("model.logout.success.authenticate"))})}onChangeLanguage(n){this.currentLanguage!==n?(this.localStorage.store(j.H.LANGUAGE,n),location.reload()):this.visible=!1}navigateDashboard(){this.router.navigate(["/dashboard"])}getImg(n){return n+"?token="+this.authService.getToken()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(M.b),t.Y36(K.e),t.Y36(T.F0),t.Y36(W.k),t.Y36(h.n2))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-main-layout"]],hostBindings:function(n,d){1&n&&t.NdJ("resize",function(O){return d.onResize(O)},!1,t.Jf7)},decls:1,vars:1,consts:[["class","app-layout",4,"ngIf"],[1,"app-layout"],["nzCollapsible","","nzWidth","320px","nzBreakpoint","xxl",1,"menu-sidebar","ant-layout-sider-custom",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"sidebar-logo"],[3,"click"],["src","assets/images/amc-logo.svg","alt","logo",3,"ngClass"],[3,"isCollapsed"],[3,"ngClass"],[1,"app-header"],[1,"d-flex"],[1,"col"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"layout-header-title"],[1,"col","pr-3","text-right"],[1,"layout-header-information"],["nz-button","","nz-popover","","nzPopoverTrigger","click",1,"btn-language",3,"nzPopoverVisible","nzPopoverContent","nzPopoverVisibleChange"],["src","assets/images/icon/vietnam.png","alt","vi",4,"ngIf"],["src","assets/images/icon/english.png","alt","en",4,"ngIf"],["languageTemplate",""],["nzType","vertical"],["nz-dropdown","","nzPlacement","bottomRight",1,"btn-user","ant-btn",3,"nzDropdownMenu","nzTrigger","nzOverlayClassName"],[1,"mr-1"],[1,"font-weight-bold"],["menu1","nzDropdownMenu"],[1,"dropdown-card"],[1,"user-card",2,"background-image","url(/assets/images/bg-user-card.jpg)"],[1,"user-card__avatar"],["nzIcon","user","nzSize","large",3,"nzSrc"],[1,"user-card__name"],[1,"cart-container"],[1,"d-flex","p-4","card-item"],[1,"col-2","pl-0"],["nz-icon","","nzType","profile","nzTheme","outline",2,"font-size","45px","color","#0054A5"],[1,"col-1","m-auto"],["nz-icon","","nzType","right","nzTheme","outline"],[1,"col","font-weight-bold","m-auto"],[1,"notification__custom","kt-space-between"],["nz-button","","nzType","primary",3,"click"],[1,"inner-content"],[3,"nzSpinning","nzTip"],["src","assets/images/icon/vietnam.png","alt","vi"],["src","assets/images/icon/english.png","alt","en"],[1,"language-form"],[1,"ml-2"]],template:function(n,d){1&n&&t.YNc(0,St,66,32,"nz-layout",0),2&n&&t.Q6J("ngIf",d.currentUser)},directives:[y.O5,x.hw,x.t7,y.mk,J,x.E8,L.Ls,k.w,Tt.ix,_t.dQ,Ct.lU,At.g,nt.cm,nt.RR,dt.Dz,x.OK,i.W,T.lC],pipes:[m.X$,y.Ov],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100%}.menu-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;z-index:10;overflow:auto;height:100%!important;box-shadow:2px 0 6px #00152959}.menu-sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.header-trigger[_ngcontent-%COMP%]{height:64px;padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{text-align:center;position:relative;height:64px;overflow:hidden;line-height:64px;background:#ffffff;transition:all .3s}.sidebar-logo-default[_ngcontent-%COMP%]{display:inline-block;height:36px;width:36px;vertical-align:middle}.sidebar-logo-resize[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 20px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px #00152914}nz-content[_ngcontent-%COMP%]{margin:24px}.nz-content-dashboard[_ngcontent-%COMP%]{margin:0}.inner-content[_ngcontent-%COMP%]{height:100%}.btn-logout[_ngcontent-%COMP%]{font-weight:500;border-radius:8px;min-width:100px;height:35px;background:#ffffff;border:1px solid #0054A5;color:#0054a5}.btn-logout[_ngcontent-%COMP%]:hover{background:#0054A5;border:1px solid #0054A5;color:#fff}.btn-language[_ngcontent-%COMP%]{border:none;outline:none;position:relative;min-width:0;padding:5px 10px;top:-2px}.language-form[_ngcontent-%COMP%]{cursor:pointer}  .ant-popover-inner{border-radius:7px!important}.layout-header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.text-right-header[_ngcontent-%COMP%]{text-align:right!important;padding-right:15px}.btn-user[_ngcontent-%COMP%]{border:1px solid rgba(0,84,165,0);transition:border .5s ease-out}.btn-user[_ngcontent-%COMP%]:hover{border:1px solid #0054A5}.user-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-size:cover;background-repeat:no-repeat;padding:2rem 1rem;background-color:#f9fafe}.user-card[_ngcontent-%COMP%]   .user-card__name[_ngcontent-%COMP%]{flex-grow:1;color:#fff;font-size:1.3rem;font-weight:500;padding-left:1rem}  .user-dropdown-menu{width:340px}  .user-dropdown-menu .dropdown-card{box-shadow:0 0 10px #00000040;-webkit-box-shadow:0px 0px 50px 0px rgba(82,63,105,.15)}.cart-container[_ngcontent-%COMP%]{background-color:#fff}.card-item[_ngcontent-%COMP%]:hover{background-color:#bebebe1a;color:#0054a5}.notification__custom[_ngcontent-%COMP%]{display:flex;align-items:center;border-top:1px solid #f7f8fa;padding:1.6rem 1.5rem}"]}),o})(),ut=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-page403"]],decls:3,vars:0,consts:[[1,"content"],[1,"text-center","mt-3"],["src","assets/images/403.svg","alt","403",2,"height","100vh"]],template:function(n,d){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.qZA())},styles:["img[_ngcontent-%COMP%]{border-radius:8px}"]}),o})(),gt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-page404"]],decls:4,vars:0,consts:[[1,"content"],[1,"row"],[1,"col-12","text-center"],["src","assets/images/404.svg","alt","404",2,"height","100vh"]],template:function(n,d){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.qZA(),t.qZA())},styles:["img[_ngcontent-%COMP%]{border-radius:8px}"]}),o})();const zt=[{path:I.x.base.home,component:Mt,children:[{path:"",redirectTo:"/"+I.x.base.dashboard,pathMatch:"full",data:{pageTitle:"common.title"}},{path:I.x.base.dashboard,loadChildren:()=>Promise.all([e.e(263),e.e(109)]).then(e.bind(e,9109)).then(o=>o.DashboardModule)},{path:I.x.setting.root,loadChildren:()=>Promise.all([e.e(592),e.e(595)]).then(e.bind(e,6595)).then(o=>o.SettingModule)},{path:I.x.error.permissionDenied,component:ut}]},{path:I.x.home.root,component:D,loadChildren:()=>Promise.all([e.e(263),e.e(205)]).then(e.bind(e,8205)).then(o=>o.HomeModule)},{path:I.x.authentication.root,component:D,loadChildren:()=>Promise.all([e.e(592),e.e(631)]).then(e.bind(e,9631)).then(o=>o.AuthModule)},{path:I.x.privacyPolicy.root,component:D,loadChildren:()=>e.e(739).then(e.bind(e,6739)).then(o=>o.PrivacyPolicyModule)},{path:I.x.error.permissionDenied,component:ut},{path:I.x.error.notFound,component:gt},{path:I.x.base.freeRoute,component:gt}];let Lt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[T.Bz.forRoot(zt,{relativeLinkResolution:"legacy"})],T.Bz]}),o})();e(8442);let xt=(()=>{class o{constructor(n,d,a,O,R){this.router=n,this.loadingService=d,this.localStorage=a,this.translate=O,this.cdr=R,this.currentUrl="",this.defaultLanguage=Z.O3.VI.code,this.subscriptions=[],this.isOnline=!0;const P=this;this.router.events.subscribe(N=>{let H=P.localStorage.retrieve(j.H.LANGUAGE);H||(H=P.defaultLanguage,P.localStorage.store(j.H.LANGUAGE,P.defaultLanguage)),P.setLanguage(H),N instanceof T.OD&&(P.currentUrl=N.url.substring(N.url.lastIndexOf("/")+1)),N instanceof T.Q3&&404===N.error.status&&this.router.navigate(["/404"]),window.scrollTo(0,0)})}setLanguage(n){this.translate.setDefaultLang(n),this.translate.use(n)}ngAfterViewChecked(){this.cdr.detectChanges()}handleAppConnectivityChanges(){}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(T.F0),t.Y36(M.b),t.Y36(h.n2),t.Y36(m.sK),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(n,d){1&n&&t._UZ(0,"router-outlet")},directives:[T.lC],styles:[""]}),o})();var ht=e(2753);const It=[E.MenuFoldOutline,E.MenuUnfoldOutline,E.DashboardOutline,E.FormOutline,E.SettingOutline];let mt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:L.sV,useValue:It}],imports:[[L.PV],L.PV]}),o})();var Rt=e(9390);let Ut=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Rt.a,K.e],imports:[[y.ez,ht.m,z.IJ,mt,x.wm,u.ip,nt.b1,dt.Rt,i.j]]}),o})();var w=e(7346),ot=e(3695),Dt=e(6215),vt=e(205),pt=e(5304),ft=e(3190),Zt=e(5435),jt=e(5257),Nt=e(8714);let Ft=(()=>{class o{constructor(n,d,a,O,R,P){this.router=n,this.authService=d,this.eventManagerService=a,this.translateService=O,this.toastService=R,this.localStorage=P,this.isTokenRefreshing=!1,this.refreshTokenSubject=new Dt.X("")}intercept(n,d){return d.handle(n).pipe((0,pt.K)(a=>{var O;if(401===a.status)if(window.location.href.includes("authentication/login"))this.authService.clear(),this.toastService.error(this.translateService.instant("error.login"));else{const R=this.localStorage.retrieve(j.H.REFRESH_TOKEN);if(R&&ot.Z.decryptMessage(R,this.authService.getTokenPrivateKey())){const P=ot.Z.decryptMessage(R,this.authService.getTokenPrivateKey());return this.handle401Error(n,d,P)}this.clearTokenRefLogout()}else 403===a.status?this.toastService.error(this.getError(a)):404===a.status?"USER_NOT_FOUND"===(null===(O=null==a?void 0:a.error)||void 0===O?void 0:O.error)?this.toastService.error("error.login"):this.toastService.error(this.getError(a)):this.getError(a)&&this.toastService.error(this.getError(a));return(0,vt._)(this.getError(a))}))}handle401Error(n,d,a){return this.isTokenRefreshing?this.refreshTokenSubject.pipe((0,Zt.h)(O=>""!==O),(0,jt.q)(1),(0,ft.w)(O=>d.handle(this.addTokenToHeader(n,O)))):(this.isTokenRefreshing=!0,this.refreshTokenSubject.next(""),this.localStorage.clear(j.H.JWT_TOKEN),this.authService.refreshToken(a).pipe((0,ft.w)(O=>{var R;const P=null===(R=null==O?void 0:O.data)||void 0===R?void 0:R.accessToken;return this.isTokenRefreshing=!1,this.refreshTokenSubject.next(P),d.handle(this.addTokenToHeader(n,P))}),(0,pt.K)((O,R)=>{var P;return this.clearTokenRefLogout(),(0,vt._)(null===(P=null==O?void 0:O.error)||void 0===P?void 0:P.message)})))}addTokenToHeader(n,d){return n.clone({headers:n.headers.set(w.F.AUTHORIZATION,`${w.F.AUTHORIZATION_TYPE}${d}`),withCredentials:!0})}getError(n){var d,a,O,R,P;return(null===(a=null===(d=null==n?void 0:n.error)||void 0===d?void 0:d.errors)||void 0===a?void 0:a.length)>0?(null===(R=null===(O=null==n?void 0:n.error)||void 0===O?void 0:O.errors[0])||void 0===R?void 0:R.message)||(null==n?void 0:n.message):(null===(P=null==n?void 0:n.error)||void 0===P?void 0:P.message)||(null==n?void 0:n.message)||this.translateService.instant("error.msg")}clearTokenRefLogout(){this.authService.clear(),this.toastService.info("model.logout.success.session"),this.router.navigate(["authentication/login"])}reloadCurrentUrl(n){this.eventManagerService.broadcast({name:"reload",content:{url:this.router.routerState.snapshot.url,token:n}})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(T.F0),t.LFG(K.e),t.LFG(Nt.O),t.LFG(m.sK),t.LFG(W.k),t.LFG(h.n2))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var tt=e(2340);let Kt=(()=>{class o{constructor(n,d,a){this.localStorage=n,this.sessionStorage=d,this.authService=a}intercept(n,d){if(!n||!n.url||(null==n?void 0:n.url.includes(Z._7))||/^http/.test(n.url)&&(!tt.N.gateway||!n.url.startsWith(tt.N.gateway)))return d.handle(n);const a=this.localStorage.retrieve(j.H.JWT_TOKEN)||this.sessionStorage.retrieve(j._.JWT_TOKEN),O=this.localStorage.retrieve(j.H.LANGUAGE)||Z.O3.VI.code;if(a){const R=ot.Z.decryptMessage(a,this.authService.getTokenPrivateKey());n=n.clone({headers:n.headers.set(w.F.AUTHORIZATION,`${w.F.AUTHORIZATION_TYPE}${R}`).set(w.F.LOCALE,O),withCredentials:!1})}return d.handle(n)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(h.n2),t.LFG(h.uR),t.LFG(K.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var Bt=e(8939);let Jt=(()=>{class o{constructor(n){this.loadingService=n,this.totalRequests=0}intercept(n,d){return n.headers.get(w.F.X_LOADING)?(this.totalRequests++,this.loadingService.show(),d.handle(n).pipe((0,Bt.x)(()=>{this.totalRequests--,0===this.totalRequests&&this.loadingService.hide()}))):d.handle(n)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(M.b))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var Ht=e(6051),Gt=e(8747);(0,y.qS)(p());const Et=E,wt=Object.keys(Et).map(o=>Et[o]);let Wt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o,bootstrap:[xt]}),o.\u0275inj=t.cJS({providers:[{provide:y.S$,useClass:y.Do},{provide:v.TP,useClass:Kt,multi:!0},{provide:v.TP,useClass:Ft,multi:!0},{provide:v.TP,useClass:Jt,multi:!0},{provide:S.u7,useValue:S.L$},{provide:L.sV,useValue:wt},{provide:r.d_,useValue:{notification:{nzMaxStack:5,nzDuration:3e3,nzPauseOnHover:!1,nzPlacement:"topRight"}}}],imports:[[l.b2,A.PW,v.JF,Lt,Ut,ht.m,z.IJ,m.aw.forRoot({loader:{provide:m.Zw,useFactory:kt,deps:[v.eN]},useDefaultLang:!0}),h.RP.forRoot({prefix:"",separator:""}),mt,g.u5,x.wm,c.U5,u.ip,i.j,Gt.hO.initializeApp(tt.N.firebaseConfig),Ht.yb]]}),o})();function kt(o){return new s.w(o,"./assets/i18n/",".json")}tt.N.production&&(0,t.G48)(),l.q6().bootstrapModule(Wt).catch(o=>console.error(o))},6700:(b,_,e)=>{var l={"./af":6431,"./af.js":6431,"./ar":1286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":3160,"./ar-ly.js":3160,"./ar-ma":2551,"./ar-ma.js":2551,"./ar-sa":9989,"./ar-sa.js":9989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":1286,"./az":5887,"./az.js":5887,"./be":4572,"./be.js":4572,"./bg":3276,"./bg.js":3276,"./bm":3344,"./bm.js":3344,"./bn":8985,"./bn-bd":3990,"./bn-bd.js":3990,"./bn.js":8985,"./bo":4391,"./bo.js":4391,"./br":6728,"./br.js":6728,"./bs":5536,"./bs.js":5536,"./ca":1043,"./ca.js":1043,"./cs":420,"./cs.js":420,"./cv":3513,"./cv.js":3513,"./cy":6771,"./cy.js":6771,"./da":7978,"./da.js":7978,"./de":6061,"./de-at":5204,"./de-at.js":5204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":6061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":5724,"./en-au.js":5724,"./en-ca":525,"./en-ca.js":525,"./en-gb":2847,"./en-gb.js":2847,"./en-ie":7216,"./en-ie.js":7216,"./en-il":9305,"./en-il.js":9305,"./en-in":3364,"./en-in.js":3364,"./en-nz":9130,"./en-nz.js":9130,"./en-sg":1161,"./en-sg.js":1161,"./eo":802,"./eo.js":802,"./es":328,"./es-do":5551,"./es-do.js":5551,"./es-mx":5615,"./es-mx.js":5615,"./es-us":4790,"./es-us.js":4790,"./es.js":328,"./et":6389,"./et.js":6389,"./eu":2961,"./eu.js":2961,"./fa":6151,"./fa.js":6151,"./fi":7997,"./fi.js":7997,"./fil":8898,"./fil.js":8898,"./fo":7779,"./fo.js":7779,"./fr":8174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":8867,"./fr-ch.js":8867,"./fr.js":8174,"./fy":452,"./fy.js":452,"./ga":5014,"./ga.js":5014,"./gd":4127,"./gd.js":4127,"./gl":2124,"./gl.js":2124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":7953,"./gom-latn.js":7953,"./gu":6604,"./gu.js":6604,"./he":1222,"./he.js":1222,"./hi":4235,"./hi.js":4235,"./hr":622,"./hr.js":622,"./hu":7735,"./hu.js":7735,"./hy-am":402,"./hy-am.js":402,"./id":9187,"./id.js":9187,"./is":536,"./is.js":536,"./it":5007,"./it-ch":4667,"./it-ch.js":4667,"./it.js":5007,"./ja":2093,"./ja.js":2093,"./jv":59,"./jv.js":59,"./ka":6870,"./ka.js":6870,"./kk":880,"./kk.js":880,"./km":1083,"./km.js":1083,"./kn":8785,"./kn.js":8785,"./ko":1721,"./ko.js":1721,"./ku":7851,"./ku.js":7851,"./ky":1727,"./ky.js":1727,"./lb":346,"./lb.js":346,"./lo":3002,"./lo.js":3002,"./lt":4035,"./lt.js":4035,"./lv":6927,"./lv.js":6927,"./me":5634,"./me.js":5634,"./mi":4173,"./mi.js":4173,"./mk":6320,"./mk.js":6320,"./ml":1705,"./ml.js":1705,"./mn":1062,"./mn.js":1062,"./mr":2805,"./mr.js":2805,"./ms":1341,"./ms-my":9900,"./ms-my.js":9900,"./ms.js":1341,"./mt":7734,"./mt.js":7734,"./my":9034,"./my.js":9034,"./nb":9324,"./nb.js":9324,"./ne":6495,"./ne.js":6495,"./nl":673,"./nl-be":6272,"./nl-be.js":6272,"./nl.js":673,"./nn":2486,"./nn.js":2486,"./oc-lnc":6219,"./oc-lnc.js":6219,"./pa-in":2829,"./pa-in.js":2829,"./pl":8444,"./pl.js":8444,"./pt":3170,"./pt-br":6117,"./pt-br.js":6117,"./pt.js":3170,"./ro":6587,"./ro.js":6587,"./ru":9264,"./ru.js":9264,"./sd":2135,"./sd.js":2135,"./se":5366,"./se.js":5366,"./si":3379,"./si.js":3379,"./sk":6143,"./sk.js":6143,"./sl":196,"./sl.js":196,"./sq":1082,"./sq.js":1082,"./sr":1621,"./sr-cyrl":8963,"./sr-cyrl.js":8963,"./sr.js":1621,"./ss":1404,"./ss.js":1404,"./sv":5685,"./sv.js":5685,"./sw":6490,"./sw.js":6490,"./ta":4106,"./ta.js":4106,"./te":9204,"./te.js":9204,"./tet":3692,"./tet.js":3692,"./tg":6361,"./tg.js":6361,"./th":1735,"./th.js":1735,"./tk":1568,"./tk.js":1568,"./tl-ph":6129,"./tl-ph.js":6129,"./tlh":3759,"./tlh.js":3759,"./tr":1644,"./tr.js":1644,"./tzl":875,"./tzl.js":875,"./tzm":6878,"./tzm-latn":1041,"./tzm-latn.js":1041,"./tzm.js":6878,"./ug-cn":4357,"./ug-cn.js":4357,"./uk":4810,"./uk.js":4810,"./ur":6794,"./ur.js":6794,"./uz":8966,"./uz-latn":7959,"./uz-latn.js":7959,"./uz.js":8966,"./vi":5386,"./vi.js":5386,"./x-pseudo":3156,"./x-pseudo.js":3156,"./yo":8028,"./yo.js":8028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":9380,"./zh-hk.js":9380,"./zh-mo":874,"./zh-mo.js":874,"./zh-tw":6508,"./zh-tw.js":6508};function t(v){var C=y(v);return e(C)}function y(v){if(!e.o(l,v)){var C=new Error("Cannot find module '"+v+"'");throw C.code="MODULE_NOT_FOUND",C}return l[v]}t.keys=function(){return Object.keys(l)},t.resolve=y,b.exports=t,t.id=6700},2480:()=>{}},b=>{b.O(0,[736],()=>b(b.s=691)),b.O()}]);